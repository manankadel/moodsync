<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MoodSync - Musical Mood Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div class="mood-visualizer-container">
        <canvas id="moodCanvas" class="mood-canvas"></canvas>
        
        <div class="mood-selector">
            <h1 class="app-title">MoodSync</h1>
            <p class="subtitle">What's your musical vibe today?</p>
            
            <!-- This form now submits to /generate -->
            <form id="generate-form" method="POST" action="/generate">
                <div class="mood-options">
                    <!-- ... mood options (happy, sad, energetic) are the same ... -->
                    <div class="mood-option" data-mood="happy">
                        <input type="radio" name="mood" value="happy" id="happy-mood" required>
                        <label for="happy-mood" class="mood-label"><span class="mood-emoji">ðŸ˜Š</span><span class="mood-text">Happy</span></label>
                    </div>
                    <div class="mood-option" data-mood="sad">
                        <input type="radio" name="mood" value="sad" id="sad-mood">
                        <label for="sad-mood" class="mood-label"><span class="mood-emoji">ðŸ˜¢</span><span class="mood-text">Sad</span></label>
                    </div>
                    <div class="mood-option" data-mood="energetic">
                        <input type="radio" name="mood" value="energetic" id="energetic-mood">
                        <label for="energetic-mood" class="mood-label"><span class="mood-emoji">âš¡</span><span class="mood-text">Energetic</span></label>
                    </div>
                </div>
                <!-- Hidden input for the hour, will be set by JS -->
                <input type="hidden" name="hour" id="hour-input">
                <button type="submit" id="generatePlaylist" class="generate-btn">
                    Create a Listening Room
                    <div class="btn-particle-flow"></div>
                </button>
            </form>

            <div class="divider">OR</div>

            <!-- NEW: Join Room Form -->
            <form id="join-form" class="join-room-form">
                <input type="text" id="room-code-input" placeholder="Enter Room Code" required>
                <button type="submit" class="join-btn">Join Room</button>
            </form>

        </div>
    </div>

    <script src="{{ url_for('static', filename='mood-visualizer.js') }}"></script>
    <script src="{{ url_for('static', filename='mood-interactions.js') }}"></script>
</body>
</html>